<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL Detective - Insper Data</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <img src="assets/images/insperdata_logo_preferencial.png" alt="Insper Data Logo" class="logo">
            <h1>SQL Detective</h1>
        </header>

        <div id="start-screen" class="game-screen active">
            <h2>Bem-vindo(a), Detetive!</h2>
            <p>O roubo do chip "Quantum Core" chocou a Expo Tech. Você tem 15 minutos para analisar os dados e encontrar
                o ladrão antes que ele escape para sempre.</p>
            <p>Para se familiarizar com a ferramenta, você fará um breve tutorial antes de começar.</p>
            <button id="start-tutorial-button" class="btn">Iniciar Caso</button>
        </div>

        <div id="tutorial-screen" class="game-screen">
            <h2>Tutorial: Entendendo o Terminal de Detetive</h2>
            <div id="tutorial-content">
            </div>
            <div class="tutorial-actions">
                <button id="prev-tutorial-button" class="btn">Anterior</button>
                <button id="next-tutorial-button" class="btn">Próximo</button>
                <button id="skip-tutorial-button" class="btn">Pular Tutorial</button>
                <button id="start-story-button" class="btn">Continuar</button>
            </div>
        </div>

        <div id="story-screen" class="game-screen">
            <h2>O Caso: Roubo do "Quantum Core"</h2>
            <div class="story-box">
                <p>No coração do evento Expo Tech, a renomada empresa <strong>Innovatech</strong> exibia com orgulho o
                    seu mais
                    valioso protótipo: o chip <strong>"Quantum Core"</strong>. Um feito tecnológico que prometia
                    revolucionar a
                    indústria.</p>
                <p>No entanto, a feira está repleta de interesses conflitantes. Diversos competidores e indivíduos com
                    ambições pessoais estão de olho no projeto. Há rumores de engenheiros de software descontentes e até
                    mesmo
                    de uma organização rival, a TechSolutions Inc., que não mede esforços para ter uma vantagem
                    competitiva.</p>
                <p>O chip desapareceu do Laboratório de Robótica exatamente às 14:30. Laura Martins, uma jornalista,
                    denunciou o crime. A Innovatech assegura que seus funcionários são leais e dedicaram anos de
                    trabalho ao projeto, descartando qualquer envolvimento interno.</p>
                <p> Além disso, o Insper divulgou uma nota, dizendo que nenhum aluno ou visitante estão envolvidos no
                    caso.</p>
                <p>Sua missão é investigar as movimentações de todos os participantes do evento e descobrir o verdadeiro
                    culpado. O banco de dados da Expo Tech é sua única ferramenta, e o tempo está se esgotando.</p>
            </div>
            <button id="start-explanation-button" class="btn">Próximo</button>
        </div>

        <div id="sql-explanation-screen" class="game-screen">
            <h2>Como Construir suas Consultas SQL</h2>
            <div class="text-box">
                <p>Nesta plataforma, você usará a linguagem <strong>SQL</strong> para interrogar o banco de dados. Mas
                    não se preocupe, a plataforma te ajuda!</p>
                <p>Para construir suas consultas, você pode clicar nos nomes de <strong>Tabelas</strong>,
                    <strong>Colunas</strong> e nos <strong>Comandos</strong>. A consulta será montada automaticamente
                    para você no terminal. Cada comando tem uma função específica para te ajudar na investigação:
                </p>
            </div>

            <h3>Comandos e Suas Funções:</h3>
            <div class="explanation-box">
                <p><strong>SELECT</strong>: Este é o comando principal. Ele escolhe quais colunas você quer ver na
                    tabela de resultados. Você pode selecionar colunas específicas (ex: <code>nome</code>) ou usar
                    <code>*</code> para selecionar todas as colunas.
                </p>
            </div>
            <div class="explanation-box">
                <p><strong>FROM</strong>: Indica de qual tabela você quer extrair os dados. É essencial para começar
                    qualquer consulta.</p>
            </div>
            <div class="explanation-box">
                <p><strong>WHERE</strong>: Permite filtrar os dados com base em uma condição. Por exemplo, se você quer
                    ver apenas pessoas com mais de 30 anos, usaria <code>WHERE idade > 30</code>. O botão `WHERE` abrirá
                    uma janela para você digitar sua condição.</p>
            </div>
            <div class="explanation-box">
                <p><strong>AND</strong>: Conecta duas ou mais condições dentro de um comando <code>WHERE</code>. É útil
                    para buscas mais precisas. Ex: <code>WHERE idade > 30 AND ocupacao = 'Professor'</code>.</p>
            </div>
            <div class="explanation-box">
                <p><strong>ORDER BY</strong>: Ordena os resultados da sua consulta em ordem alfabética, numérica ou
                    cronológica, com base em uma coluna. Ex: <code>ORDER BY nome</code>.</p>
            </div>
            <div class="explanation-box">
                <p><strong>ASC</strong>: Adicionado ao <code>ORDER BY</code>, ordena os resultados em ordem ascendente
                    (crescente). É o padrão, então nem sempre precisa ser usado.</p>
            </div>
            <div class="explanation-box">
                <p><strong>DESC</strong>: Adicionado ao <code>ORDER BY</code>, ordena os resultados em ordem descendente
                    (decrescente).</p>
            </div>

            <div class="text-box">
                <p>Para começar, clique em `SELECT *` e em seguida na tabela que quer analisar. Depois, use os outros
                    comandos para refinar sua busca!</p>
            </div>
            <button id="start-main-game-button" class="btn">Começar Investigação!</button>
        </div>

        <div id="main-game-screen" class="game-screen">
            <div class="header-game">
                <div class="timer-container">
                    <p class="timer-label">Tempo</p>
                    <p id="timer">15:00</p>
                </div>
                <div class="case-brief-container">
                    <h3>Detalhes do Caso</h3>
                    <p id="case-brief">O roubo do protótipo 'Quantum Core', da empresa Innovatech, ocorreu no
                        Laboratório de Robótica às 14:30. A área estava lotada. O criminoso pode ter se misturado à
                        multidão. Os suspeitos incluem funcionarios da empresa rival (TechSolutions Inc.) e Engenheiros
                        de Software descontentes.</p>
                </div>
                <button id="help-button" class="btn btn-help">Ajuda</button>
            </div>

            <div class="game-area">
                <div class="query-builder">
                    <h3>Terminal</h3>
                    <div class="query-display">
                        <span id="query-output">Sua consulta será exibida aqui...</span>
                    </div>
                    <div class="query-actions">
                        <button id="execute-query-button" class="btn btn-execute">Executar</button>
                        <button id="clear-query-button" class="btn btn-clear">Limpar</button>
                    </div>
                </div>

                <div class="interactive-panel">
                    <div class="panel">
                        <h3>Tabelas</h3>
                        <div id="tables-list" class="interactive-list"></div>
                    </div>
                    <div class="panel">
                        <h3>Comandos</h3>
                        <div id="keywords-buttons" class="keywords-grid">
                            <button class="btn keyword-btn" data-keyword="SELECT">SELECT</button>
                            <button class="btn keyword-btn" data-keyword="FROM">FROM</button>
                            <button class="btn keyword-btn" data-keyword="WHERE">WHERE</button>
                            <button class="btn keyword-btn" data-keyword="AND">AND</button>
                            <button class="btn keyword-btn" data-keyword="ORDER BY" style="font-size: 12px;">ORDER
                                BY</button>
                            <button class="btn keyword-btn" data-keyword="ASC">ASC</button>
                            <button class="btn keyword-btn" data-keyword="DESC">DESC</button>
                        </div>
                    </div>
                    <div class="panel">
                        <h3>Colunas</h3>
                        <div id="columns-list" class="interactive-list"></div>
                    </div>
                </div>

                <div class="results-area">
                    <div class="results-header">
                        <h3>Resultados</h3>
                        <button id="copy-results-button" class="btn btn-copy">Copiar para Anotações</button>
                    </div>
                    <div id="results-output"></div>
                </div>

                <div class="notes-area">
                    <h3>Anotações</h3>
                    <p>Você pode digitar, apagar e editar suas anotações a qualquer momento.</p>
                    <textarea id="notes-input" placeholder="Anote suas descobertas aqui..."></textarea>
                </div>
            </div>

            <div class="answer-area">
                <div class="answer-input-group">
                    <input type="text" id="answer-input" placeholder="Digite o nome do suspeito aqui...">
                    <button id="submit-answer-button" class="btn btn-submit">Enviar Resposta</button>
                </div>
            </div>
        </div>

        <div id="help-modal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h3>Ajuda do SQL Detective</h3>
                <div id="help-content">
                    <h4>Comandos</h4>
                    <div id="command-help">
                    </div>
                    <h4>Dicas</h4>
                    <div id="hint-area">
                        <button id="reveal-hint-1" class="btn btn-hint">Revelar Dica 1</button>
                        <p id="hint-1-text" class="hidden-hint"></p>
                        <button id="reveal-hint-2" class="btn btn-hint">Revelar Dica 2</button>
                        <p id="hint-2-text" class="hidden-hint"></p>
                        <button id="reveal-hint-3" class="btn btn-hint">Revelar Dica 3</button>
                        <p id="hint-3-text" class="hidden-hint"></p>
                    </div>
                </div>
            </div>
        </div>

        <div id="where-modal" class="modal">
            <div class="modal-content">
                <span class="close-button where-close">&times;</span>
                <h3>Adicionar Condição (WHERE)</h3>
                <p>Clique nas colunas e operadores para montar a condição.</p>
                <input type="text" id="where-input" class="modal-input"
                    placeholder="Ex: ocupacao = 'Representante Innovatech'">

                <div class="modal-actions">
                    <div id="where-columns" class="modal-buttons-container">
                        <h4>Colunas:</h4>
                    </div>
                    <div id="where-operators" class="modal-buttons-container">
                        <h4>Operadores:</h4>
                        <button class="btn btn-operator" data-value="=">=</button>
                        <button class="btn btn-operator" data-value=">">></button>
                        <button class="btn btn-operator" data-value="<"><</button>
                    </div>
                </div>

                <button id="where-confirm" class="btn">Adicionar</button>
            </div>
        </div>

        <div id="orderby-modal" class="modal">
            <div class="modal-content">
                <span class="close-button orderby-close">&times;</span>
                <h3>Adicionar Ordenação (ORDER BY)</h3>
                <p>Clique na coluna para ordenar.</p>
                <input type="text" id="orderby-input" class="modal-input" placeholder="Ex: nome">

                <div class="modal-actions">
                    <div id="orderby-columns" class="modal-buttons-container">
                        <h4>Colunas:</h4>
                    </div>
                </div>

                <button id="orderby-confirm" class="btn">Adicionar</button>
            </div>
        </div>

        <div id="column-info-modal" class="modal">
            <div class="modal-content">
                <span class="close-button" id="info-close-btn">&times;</span>
                <h4>Nome da Coluna</h4>
                <p>Descrição da coluna.</p>
            </div>
        </div>

        <div id="victory-screen" class="game-screen">
            <h2>Parabéns, Detetive!</h2>
            <p>Você resolveu o caso a tempo. O ladrão foi pego graças à sua astúcia. A Innovatech agradece a sua
                dedicação!</p>
            <button id="restart-button-victory" class="btn">Jogar Novamente</button>
        </div>

        <div id="times-up-screen" class="game-screen">
            <h2>Tempo Esgotado!</h2>
            <p>O ladrão escapou e não deixou rastros. A polícia lamenta, mas o caso foi encerrado. Tente novamente!</p>
            <button id="restart-button-game-over" class="btn">Jogar Novamente</button>
        </div>

        <div id="game-over-screen" class="game-screen">
            <h2>Você pegou a pessoa errada!</h2>
            <p>O ladrão escapou e não deixou rastros. A polícia lamenta, mas o caso foi encerrado. Tente novamente!</p>
            <button id="restart-button-game-over" class="btn">Jogar Novamente</button>
        </div>
    </div>

    <script src="data/db.js"></script>
    <script src="script.js"></script>
</body>

</html>